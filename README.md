# CityForecast

## Описание проекта

CityForecast - это веб-приложение, которое позволяет пользователю вводить название города и получать прогноз погоды в этом городе на ближайшее время. Прогноз предоставляется в удобочитаемом формате.


## Реализованные функции

- Получение прогноза погоды по введенному городу
- Удобный формат отображения прогноза
- Сохранение истории поиска для каждого пользователя
- Предложение просмотра погоды в городе, который пользователь искал ранее
- API для отображения статистики запросов (сколько раз вводили каждый город)

## Запуск проекта

### Предварительные требования

- Docker
- Docker Compose

### Инструкции по запуску

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/Glaser1/city_forecast.git
    cd city_forecast
    ```

2. Создайте файл .env - в нем укажите переменные окружающей среды согласно шаблону ниже;

3. Запустите приложение:
    ```sh
    docker-compose up -d
    ```
* Приложение будет доступно по адресу: http://localhost:5000

### API эндпоинты

#### Главная страница GET /
Возвращает главную страницу с формой для ввода города. Если ранее пользователь искал погоду для какого-либо города, то отображается последний искомый город.


#### Прогноз погоды GET /forecast/

Получает прогноз погоды по переданному параметру city в запросе. Возвращает страницу с прогнозом погоды.

#### POST /forecast/

Получает прогноз погоды по городу, введенному в форму на главной странице. Возвращает страницу с прогнозом погоды.

#### Статистика запросов GET /api/get_stats

Возвращает статистику запросов в формате JSON, содержащую количество запросов для каждого города.


### Шаблон наполнения env-файла:

``` DB_NAME= # название БД ```

``` SECRET_KEY= # указываем автоматически генерируемый       секретный ключ для flask-приложения ```

```API_KEY= # ключ к api сервиса погоды. Получить можно по ссылке после регистрации: ``` https://www.weatherapi.com/my/ 

  



## Использованные технологии:
  * Веб-фреймворк: Flask
  * API для погоды: WeatherAPI
  * База данных: SQLite (для хранения истории поиска пользователей)
  * Контейнеризация: Docker
